---
import { getToolStaticPaths } from '@registry/tools'
import type { SupportedLanguage, ToolRouteProps } from '@shared/tools'
import ToolView from '../[lang]/tools/[...path].astro'

export async function getStaticPaths() {
  const paths = await getToolStaticPaths()
  return paths.map((p) => ({
    params: p.params,
    props: { ...p.props, lang: 'en' as const },
  }))
}

type Props = ToolRouteProps & { lang: SupportedLanguage }
const { metadata, component } = Astro.props as Props
---

<ToolView metadata={metadata} component={component} lang="en" />
